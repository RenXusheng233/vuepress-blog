# Interview, 1


## å‰è¨€
æœ€è¿‘åœ¨è€ƒè™‘æ¢å·¥ä½œçš„äº‹æƒ…ï¼Œæ‰€ä»¥å­¦ä¹ å†…å®¹çš„æ›´æ–°æš‚ç¼“ï¼Œåˆ·ä¸€åˆ·é¢è¯•é¢˜æ‰¾æ‰¾æ„Ÿè§‰ã€‚

##  å‚è€ƒèµ„æ–™
- https://github.com/LinDaiDai/niubility-coding-js
- ä½œè€…æ•´ç†çš„çŸ¥è¯†å¾ˆä¸é”™ï¼Œè‹¥å–œæ¬¢ï¼Œå¯ä»¥ç»™ä½œè€…ä¸€ä¸ªstar

---
---

## å°±è¿™æ ·ç›´æ¥å¼€å§‹å§

### aæ ‡ç­¾ LoVe HAte åŸåˆ™
`link, visited, hover, active`

---

### Vue - hash, history
`hash`: `onhashchange` - `location.hash`

`history`: `pushState`ã€`replaceState`

---

### æ•°ç»„å»é‡
```javascript
let arr = []
Array.from(new Set(arr))
[...new Set(arr)]
// éå† - indexOf, includes
// æ’åºåæ¯”è¾ƒå‰å - sort
```
---

### Promise

#### finally
- `.finally()`æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œå› ä¸ºä¸çŸ¥é“çŠ¶æ€æ˜¯`resolved`è¿˜æ˜¯`rejected`
- `.finally()`è¿”å›çš„æ˜¯ä¸Šä¸€æ¬¡Promiseå¯¹è±¡å€¼ï¼Œå¦‚æœä¸Šä¸€æ¬¡æ˜¯æŠ›å‡ºäº†ä¸€ä¸ªå¼‚å¸¸ï¼Œåˆ™è¿”å›å¼‚å¸¸çš„`Promise`å¯¹è±¡

#### all, race
- `.all()`æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶è¡Œæ‰§è¡Œï¼Œå¹¶ä¸”åœ¨å…¨éƒ¨å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œæ¯•åæ‰§è¡Œå›è°ƒ
- `Promise.all().then()`ç»“æœä¸­æ•°ç»„çš„é¡ºåºä¸å…¥å‚é¡ºåºä¸€è‡´
- `.race()`æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶è¡Œæ‰§è¡Œï¼Œåªä¿ç•™ç¬¬ä¸€ä¸ªå®Œæˆçš„å¼‚æ­¥æ“ä½œç»“æœï¼Œå…¶ä»–å¼‚æ­¥ä»»åŠ¡ä»åœ¨æ‰§è¡Œï¼Œä½†ç»“æœä¼šè¢«æŠ›å¼ƒ
- `.all() & .race()` - åªæœ‰æœ€å…ˆæŠ›å‡ºçš„å¼‚å¸¸ä¼šè¢«æ•è·ï¼Œä¸ä¼šå½±å“æ•°ç»„ä¸­çš„å…¶ä»–å¼‚æ­¥ä»»åŠ¡

---

### Event Loop
å®ä»»åŠ¡ -> å¾®ä»»åŠ¡ -> æ¸²æŸ“ -> **web worker** -> å®ä»»åŠ¡...

---

### addEventListener ç¬¬ä¸‰ä¸ªå‚æ•°
- `true` - æ•è·
- `false` - å†’æ³¡
- `{once: true/false}` - æ·»åŠ ä¹‹åæœ€å¤šåªè°ƒç”¨ä¸€æ¬¡
- `{passive: true/false}` - `listener`æ°¸è¿œä¸ä¼šè°ƒç”¨`preventDefault()`

---

### æ²¡æœ‰å†’æ³¡çš„äº‹ä»¶
`onblur, onfocus, onmouseenter, onmouseleave`

---

### æ‰‹å†™new
```javascript
function myNew(fn, ...args) {
  let instance = Object.create(fn.prototype)
  let result = fn.call(instance, ...args)
  return typeof result === 'object' ? result : instance
}
```

---

### instanceof
`instanceof`ä¸»è¦ç”¨äºåˆ¤æ–­æŸä¸ªæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡åœ¨ä¸åœ¨æŸä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Š

```javascript
function myInstance(left, right) {
  let proto = Object.getPrototypeOf(left)
  while(true) {
    if(proto == null) return false
    if(proto === right.prototype) return true
    proto = Object.getPrototypeOf(proto)
  }
}
```

---

### TCP & UDP
- `TCP`æ˜¯é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚åè®®
- `UDP`æ˜¯é¢å‘æ— è¿æ¥çš„ä¼ è¾“å±‚åè®® - æ‰‹æ¸¸ã€ç›´æ’­

---

### ä»è¾“å…¥ä¸€ä¸ªurlåˆ°é¡µé¢æ¸²æŸ“çš„æµç¨‹
> å‚è€ƒèµ„æ–™ï¼šhttps://segmentfault.com/a/1190000014311983

** `DNS`è§£æ - è·å–`IP` - æµè§ˆå™¨/æœ¬åœ°`hosts`æ–‡ä»¶/æœ¬åœ°`DNS`æœåŠ¡å™¨æŸ¥è¯¢æ˜¯å¦æœ‰ç¼“å­˜è¿‡

** `TCP/IP`è¿æ¥ - ä¸‰æ¬¡æ¡æ‰‹ - ä¸ºä»€ä¹ˆä¸¤æ¬¡ä¸è¡Œï¼Ÿ
> å®¢æˆ·ç«¯ï¼šæˆ‘å¯ä»¥è¯·æ±‚æ•°æ®å—ï¼Ÿ
>
> æœåŠ¡ç«¯ï¼šå¯ä»¥
> 
> å®¢æˆ·ç«¯ï¼šå¥½çš„

- å¦‚æœæ˜¯ä¸¤æ¬¡æ¡æ‰‹çš„æƒ…å†µï¼Œå®¢æˆ·ç«¯å‘é€äº†è¯·æ±‚ï¼Œç”±äºç½‘ç»œæ³¢åŠ¨ç­‰åŸå› å»¶è¿Ÿåˆ°è¾¾æœåŠ¡ç«¯
- æ­¤æ—¶æœåŠ¡ç«¯å»ºç«‹è¿æ¥ï¼Œå‡†å¤‡æ¥æ”¶æ•°æ®
- å®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“å‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Œé€ æˆæœåŠ¡ç«¯èµ„æºçš„æµªè´¹

** å‘é€httpè¯·æ±‚ - åˆ†ä¸ºé™æ€èµ„æºå’ŒåŠ¨æ€èµ„æº

** æµè§ˆå™¨æ¸²æŸ“ - `DOM, CSSOM -> render tree`

** å››æ¬¡æŒ¥æ‰‹ - å®¢æˆ·ç«¯æ²¡æœ‰æ•°æ®è¦å‘é€æ—¶æ–­å¼€è¿æ¥ï¼Œé‡Šæ”¾æœåŠ¡ç«¯èµ„æº
> å®¢æˆ·ç«¯ï¼šæˆ‘æ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œæ‰“ç®—æ–­å¼€è¿æ¥
> 
> æœåŠ¡ç«¯ï¼šä½ çš„è¯·æ±‚æˆ‘æ”¶åˆ°äº†ï¼Œæˆ‘è¿™è¾¹è¿˜æœ‰æ•°æ®æ²¡æœ‰å‘é€å®Œæˆï¼Œä½ ç­‰ä¸‹
> 
> æœåŠ¡ç«¯ï¼šæˆ‘çš„æ•°æ®å‘é€å®Œæ¯•äº†ï¼Œå¯ä»¥æ–­å¼€è¿æ¥äº†
> 
> å®¢æˆ·ç«¯ï¼šğŸ‘Œï¼Œä½ æ–­å¼€è¿æ¥å§ï¼ˆå†…å¿ƒosï¼šæˆ‘ä¼šåœ¨2å€çš„æœ€å¤§æŠ¥æ–‡æ®µç”Ÿå­˜æ—¶é—´åå…³é—­è¿æ¥ï¼Œå¦‚æœå†æ¬¡æ”¶åˆ°æœåŠ¡ç«¯çš„æ¶ˆæ¯ï¼Œæˆ‘å°±çŸ¥é“æœåŠ¡ç«¯æ²¡æœ‰æ”¶åˆ°æˆ‘çš„è¿™å¥è¯ï¼Œæˆ‘å†å‘é€ä¸€éç»™å®ƒï¼‰
> 
> æœ€ç»ˆæœåŠ¡ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„æ¶ˆæ¯æ–­å¼€è¿æ¥ï¼Œå®¢æˆ·ç«¯ä¹Ÿå°†è¿æ¥å…³é—­

---

### CommonJS & ES Module æ¨¡å—åŒºåˆ«
- `CommonJS`æ”¯æŒåŠ¨æ€å¯¼å…¥`require(${path}/xx.js)`ï¼Œè€Œ`ES Module`ç›®å‰ä¸æ”¯æŒ
- `CommonJS`çš„å¯¼å…¥æ˜¯åŒæ­¥çš„ï¼Œå› ä¸ºæ–‡ä»¶éƒ½åœ¨æœ¬åœ°ï¼›`ES Module`çš„å¯¼å…¥æ˜¯å¼‚æ­¥çš„ï¼Œç”¨äºæµè§ˆå™¨ï¼Œéœ€è¦ä¸‹è½½æ–‡ä»¶ï¼Œå¦‚æœåŒæ­¥ä¼šå¯¼è‡´é˜»å¡
- `CommonJS`å¯¼å‡ºçš„æ˜¯å€¼æ‹·è´ï¼Œ`ES Module`å¯¼å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨

---

### æ°´å¹³å‚ç›´å±…ä¸­

#### å±…ä¸­å…ƒç´ å®½é«˜ç¡®å®š `width: 100px; height: 100px;`
```css
/* ç¬¬ä¸€ç§ */
position: absolute;
top: 50%;
left: 50%;
margin-left: -50px;
margin-top: -50px;

/* ç¬¬äºŒç§ */
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
margin: auto;

/* ç¬¬ä¸‰ç§ */
position: absolute;
top: calc(50% - 50px);
left: calc(50% - 50px);
```

#### å±…ä¸­å…ƒç´ å®½é«˜ä¸å®š
```css
/* ç¬¬ä¸€ç§ */
position: absolute;
left: 50%;
top: 50%;
transform:translate(-50%, -50%);

/* ç¬¬äºŒç§ */
/* çˆ¶çº§flexå¸ƒå±€ */
display: flex;
justify-content: center;
align-items: center;

/* ç¬¬ä¸‰ç§ */
/* çˆ¶çº§gridå¸ƒå±€ */
display: grid;
align-self: center;
justify-self: center;
```

---

### CSRF & XSS & ç‚¹å‡»åŠ«æŒ

#### CSRF - è·¨ç«™è¯·æ±‚ä¼ªé€ 
- `SameSite`
- `Referer`
- `Token`

#### XSS - è·¨ç«™è„šæœ¬æ”»å‡»
- è½¬ä¹‰
- `CSP`ç™½åå• - http/html
- `httpOnly` - æ— æ³•çªƒå–`cookie`

#### ç‚¹å‡»åŠ«æŒ
- æœåŠ¡ç«¯æ·»åŠ `X-Frame-Options`

---

### requestAnimationFrame
ç”¨äºæµè§ˆå™¨å®šæ—¶å¾ªç¯æ“ä½œçš„ä¸€ä¸ªæ¥å£ï¼ŒæŒ‰å¸§å¯¹ç½‘é¡µè¿›è¡Œé‡ç»˜ã€‚